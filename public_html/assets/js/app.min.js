/*! angular_flash_cards - v1.0.0 - 2017-04-24 */!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){a("./modules/app.module.js"),a("./controllers/navigation.controller.js"),a("./controllers/flashcards.controller.js"),a("./services/card.service.js"),a("./services/updateCards.service.js"),a("./services/retrieve.service.js"),a("./services/resetValidation.service.js"),a("./directives/insertCard.directive.js")},{"./controllers/flashcards.controller.js":2,"./controllers/navigation.controller.js":3,"./directives/insertCard.directive.js":4,"./modules/app.module.js":5,"./services/card.service.js":6,"./services/resetValidation.service.js":7,"./services/retrieve.service.js":8,"./services/updateCards.service.js":9}],2:[function(a,b,c){function d(a,b,c,d,e,f){function g(){console.log("closing popover"),n.popoverAlexa=!1,n.popoverShareCards=!1,n.popoverWindow=!1,n.popoverGiveFeedback=!1,n.popoverAbout=!1}function h(){n.introductionCompletedTwo=!0,n.finished=!1,n.shareWindow=!1,n.addCardShow=!1}function i(a){var b=new Date,c=b.getTime(),d=j(j(j(c))),e=d.substring(0,d.length-2);return e}function j(a){return btoa(encodeURIComponent(a).replace(/%([0-9A-F]{2})/g,function(a,b){return String.fromCharCode("0x"+b)}))}function k(){n.newQuestion="",n.newAnswer="",n.newCategory=""}function l(){n.AlexaError=!1,n.TitleError=!1,n.TitleErrorMessage="",n.AlexaErrorMessage=""}function m(a){var b=0;return a&&(b=a.split(" ").length),b}var n=a;n.currentQuestion=0,n.flip=!1,n.firstcard=!0,n.addCardShow=!1,n.mainWindow=!1,n.introCompleted=!1,n.showCardHeader=!1,n.cardAdded=!1,n.finished=!1,n.hideButtons=!0,n.subjectLength=26,n.answerLength=250,n.questionLength=250,n.minCharacters=10,n.maxCharactersSubject=26,n.alexaButtonState="off",n.alexaBoolean=!1,n.editCard=function(){n.liveEdit=!0,n.updatedAnswer=n.answer,n.updatedQuestion=n.question,n.flip},n.doneEditing=function(){n.liveEdit=!1,n.flip?(o[n.currentQuestion-1].answer=n.updatedAnswer,n.answer=n.updatedAnswer,n.questionOranswer="Answer"):(o[n.currentQuestion-1].question=n.updatedQuestion,n.question=n.updatedQuestion,n.questionOranswer="Question")},n.alexaButtonToggle=function(){"off"==n.alexaButtonState?(n.alexaButtonState="on",n.alexaBoolean=!0,n.alexa=!0):(n.alexaButtonState="off",n.alexaBoolean=!1,n.alexa=!1)},n.openContact=function(){console.log("contact"),g(),n.popoverWindow=!0,n.popoverGiveFeedback=!0},n.openAlexa=function(){g(),n.popoverAlexa=!0,n.popoverWindow=!0},n.openShare=function(){g(),n.popoverShareCards=!0,n.popoverWindow=!0},n.openAbout=function(){g(),n.popoverWindow=!0,n.popoverAbout=!0},n.sendEmail=function(){n.messageSent=!0;var a={email:n.email,name:n.name,message:n.message};b({method:"POST",url:"/sendData",data:a,headers:{"Content-Type":"application/json"}}).then(function(a){},function(a){console.log("mail not sent")})},n.buttonChange="Ready?",n.buttonHover=function(){n.buttonChange="GO!"},n.buttonHoverOff=function(){n.buttonChange="Ready?"};var o=[];c.deck(a,o),n.addAnotherCard=function(){n.cardAdded=!1},n.returnToDeck=function(){n.closeWindow()},n.mobileMenuOpen=function(){n.ShowMobileMenu=!0},n.mobileMenuClose=function(){n.ShowMobileMenu=!1},n.showAddCardInterface=function(){h(),n.addCardShow=!0,n.mainWindow=!1},n.ready=function(){h(),n.introductionCompletedTwo=!0,n.addCardShow=!0},n.getStarted=function(){n.introCompleted=!0,n.hideButtons=!1},d.nextQuestion(a,o),n.showAnswerButton=function(){n.liveEdit||(n.flip=!0,o[n.currentQuestion-1]&&(n.answerquestionCategory=o[n.currentQuestion-1].category,n.answer=o[n.currentQuestion-1].answer))},n.nextQuestionButton=function(){n.clickToFlip=!0,n.liveEdit||d.nextQuestion(a,o)},n.closeWindow=function(){f.calculateQuestions(a,o),0===n.currentQuestion&&d.nextQuestion(a,o),n.mainWindow=!0,n.addCardShow=!1,n.cardAdded=!1,e.reset(n),k()},n.addNewCard=function(){d.add(a,e,f,o),f.calculateQuestions(a,o)},n.shareDeck=function(){h(),n.hideCardCount=!0,n.mainWindow=!1,n.addCardShow=!1,n.shareWindow=!0},n.createDeck=function(){console.log("creating deck"),n.alexaPhrase&&(n.alexaPhrase=n.alexaPhrase.toLowerCase()),l();var a=!0;if((null===n.deckTitle||void 0===n.deckTitle||n.deckTitle.length<0)&&(a=!1,n.TitleError=!0,n.TitleErrorMessage="* Your title cannot be blank"),n.alexa===!0&&(n.alexaPhrase<0||void 0===n.alexaPhrase))n.AlexaError=!0,a=!1,n.AlexaErrorMessage="* You must enter a phrase to use alexa";else if(n.alexa===!0)if(m(n.alexaPhrase)<=2)a=!1,n.AlexaError=!0,n.AlexaErrorMessage="* Alexa Phrase must use three or more words";else{var c=n.alexaPhrase.match(/\d+/g);null!==c&&(a=!1,n.AlexaError=!0,n.AlexaErrorMessage="* Write numbers ex:10 becomes ten)");var e=n.alexaPhrase.match(/[^a-zA-Z0-9 ]+/);null!==e&&(console.log("this shit was found"),a=!1,n.AlexaError=!0,n.AlexaErrorMessage="* Remove special characters - use only words")}a&&(console.log("phrase:"+n.alexaPhrase),b({method:"GET",url:"/api/alexa/phrases/"+n.alexaPhrase,headers:{"Content-Type":"application/json"}}).then(function(a){if("Deck Found"==a.data.message)n.AlexaError=!0,n.AlexaErrorMessage="* This Alexa Phrase Is Already In Use";else{var c=i();n.deckRoute=c,deckInfo={title:n.deckTitle,route:c,backgroundColor:"orange",canSkipQuestions:!0,alexa:n.alexaPhrase},b({method:"POST",url:"/api/decks",data:deckInfo,headers:{"Content-Type":"application/json"}}).then(function(a){for(var b in o)console.log(o[b]),cardInfo={question:o[b].question,answer:o[b].answer,category:o[b].category,group_id:a.data.id},d.saveCard(cardInfo);h(),console.log("Deck Saved"),n.finished=!0,n.shareWindow=!1,n.hideButtons=!0},function(a){console.log("error"),console.log(a),console.log(a.data)})}}))}}angular.module("app").controller("flashcards",d)},{}],3:[function(a,b,c){function d(a){var b=a;b.title="Flashcard Quiz",b.navButtons=[{heading:"Add Card",titleTag:"Add a new card",hide:function(){b.cardsLoaded===!0},show:function(){b.hideButtons===!1},action:function(){b.showAddCardInterface()}},{heading:"Share Deck",titleTag:"Share this deck with friends",hide:function(){b.cardsLoaded===!0},show:function(){b.hideButtons===!1},action:function(){b.shareDeck()}},{heading:"Contact Us",titleTag:"Contact us with questions or comments",hide:function(){},show:function(){},action:function(){b.openContact()}},{heading:"About",titleTag:"Share this deck with friends",hide:function(){},show:function(){},action:function(){b.openAbout()}}]}angular.module("app").controller("navigation",d)},{}],4:[function(a,b,c){function d(){return{restrict:"EA",scope:{addCardShow:"@"},templateUrl:"/insertDirective"}}angular.module("app").directive("insertCard",d)},{}],5:[function(a,b,c){angular.module("app",["ngAnimate"])},{}],6:[function(a,b,c){function d(a){var b=this;b.add=function(a,b,c,d){var e=a,f=!0;if(b.reset(e),"undefined"==typeof e.newQuestion||e.newQuestion.length<e.minCharacters?(f=!1,e.QuestionError=!0,e.QuestionErrorMessage="* This field requires 10 characters"):e.newQuestion.length>e.questionLength&&(e.QuestionError=!0,e.QuestionErrorMessage="* Too many characters",f=!1),"undefined"==typeof e.newAnswer||e.newAnswer.length<e.minCharacters?(e.AnswerError=!0,f=!1,e.AnswerErrorMessage="* This field requires 10 characters"):e.newAnswer.length>e.answerLength&&(e.AnswerError=!0,e.QuestionErrorMessage="* Too many characters",f=!1),"undefined"!=typeof e.newCategory&&e.newCategory.length>e.maxCharactersSubject&&(e.CategoryError=!0,e.CategoryErrorMessage="* Too many characters in category",f=!1),f){e.showCardHeader=!0;var g={question:e.newQuestion,answer:e.newAnswer,category:e.newCategory};e.newQuestion="",e.newAnswer="",e.newCategory="",d.push(g),c.calculateQuestions(a,d),e.cardAdded=!0,e.firstcard=!1}},b.nextQuestion=function(a,b){console.log("next question hit");var c=a;console.log("Length: "+b.length),console.log("current: "+c.currentQuestion),c.currentQuestion&&b.length&&c.currentQuestion>=b.length&&(c.currentQuestion=0,console.log("lowered to zero")),b[c.currentQuestion]&&(c.firstcard?(console.log("first!"),c.question=b[c.currentQuestion].question,c.answer=b[c.currentQuestion].answer,c.questionCategory=b[c.currentQuestion].category,c.currentQuestion++,setTimeout(function(){c.firstcard=!1},1e3)):(console.log("other lower"),c.flip===!0&&(c.flip=!1),console.log("currentQ: "+c.currentQuestion),console.log("currentLength: "+b.length),c.question=b[c.currentQuestion].question,c.questionCategory=b[c.currentQuestion].category,c.currentQuestion++))},b.saveCard=function(b){a({method:"POST",url:"/api/cards",data:b,headers:{"Content-Type":"application/json"}}).then(function(a){console.log("Card Created!")},function(a){console.log("Could not save card"),console.log(a),console.log(a.data)})}}angular.module("app").service("card",d)},{}],7:[function(a,b,c){function d(){var a=this;a.reset=function(a){var b=a;return b.QuestionError=!1,b.AnswerError=!1,b.SubjectError=!1,b.QuestionErrorMessage="",b.AnswerErrorMessage="",b.SubjectErrorMessage="",b.cardAdded=!1,!0}}angular.module("app").service("resetValidationService",d)},{}],8:[function(a,b,c){function d(a,b,c,d,e){var f=this;f.deck=function(a,f){var g=a,h=b.absUrl(),i=h.replace("https://flashcardquiz.com/","");i?(console.log("grabbing units"),c({method:"GET",url:"/api/gather/"+i,headers:{"Content-Type":"application/json"}}).then(function(b){if("success"==b.data.message){g.questions=b.data.cards,g.deckTitle=b.data.title,g.backgroundColor=b.data.backgroundColor,g.canSkipQuestions=b.data.canSkipQuestions,""!=b.data.alexa&&(g.alexaPhrase=b.data.alexa),g.route=i,g.introductionCompletedTwo=!0,g.finished=!1,g.shareWindow=!1,g.addCardShow=!1,g.mainWindow=!0,g.cardsLoaded=!0,console.log(g.questions);var c=b.data.cards;for(var h in c){var j={question:c[h].question,answer:c[h].answer,category:c[h].category};f.push(j)}e.calculateQuestions(a,f),d.nextQuestion(a,f)}})):console.log("We had no token to process")}}angular.module("app").service("retrieve",d)},{}],9:[function(a,b,c){function d(){var a=this;a.calculateQuestions=function(a,b){var c=a;return c.totalQuestions=b.length,!0}}angular.module("app").service("updateCards",d)},{}]},{},[1]);